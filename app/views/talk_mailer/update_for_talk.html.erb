<meta itemprop="name" content="UPCOMING TALK" style="font-family: Helvetica,Arial,sans-serif; box-sizing: border-box; font-size: 14px; margin: 0;">
<style>/* Email styles need to be inline */</style>
<table width="100%" cellpadding="0" cellspacing="0" style="font-family: Helvetica,Arial,sans-serif; box-sizing: border-box; font-size: 14px; margin: 0;">
  <tr style="font-family: Helvetica,Arial,sans-serif; box-sizing: border-box; font-size: 14px; margin: 0;">
    <td class="content-block" style="font-family: Helvetica,Arial,sans-serif; box-sizing: border-box; font-size: 14px; vertical-align: top; margin: 0; padding: 0 0 20px;" valign="top">
      Hello <%= @recipient.email %>, <%= @talk.title %> has an update!
    </td>
  </tr>
  <tr style="font-family: Helvetica,Arial,sans-serif; box-sizing: border-box; font-size: 14px; margin: 0;">
    <td class="content-block" style="font-family: Helvetica,Arial,sans-serif; box-sizing: border-box; font-size: 14px; vertical-align: top; margin: 0; padding: 0 0 20px;" valign="top">
      This following items have changed: 
      <% @changes.each do |key, change| %> 
        <ul>
        <h3><%= key.titleize %> </h3>
        <% if change[0].class == String%>
            <li><strong>Was:</strong><%= change[0].titleize %> <strong>Now:</strong> <%=change[1].titleize%></li>
        <%elsif change[0].class == ActiveSupport::TimeWithZone %> 
            <li><strong>Was:</strong><%= change[0].strftime("%I:%M %p, %a %d, %b %Y") %> <strong>Now:</strong> <%=change[1].strftime("%I:%M %p, %a %d, %b %Y")%></li>
        <%end%>
        </ul>
      <%end%>
    </td>
  </tr>
  <tr style="font-family: Helvetica,Arial,sans-serif; box-sizing: border-box; font-size: 14px; margin: 0;">
    <td class="content-block" style="font-family: Helvetica,Arial,sans-serif; box-sizing: border-box; font-size: 14px; vertical-align: top; margin: 0; padding: 0 0 20px;" valign="top">
        If you have any questions, hold onto them for now while we work on this!
    </td>
  </tr>
</table>